![å°é¢](http://upload-images.jianshu.io/upload_images/1869462-ebb80ef21291f1e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# èƒŒæ™¯ä»‹ç»
Androidä¸­æœ‰ä¸¤ä¸ªCameraç±»ã€‚ä¸€ä¸ªæ˜¯**android.hardware.Camera**ï¼Œç”¨äºå¯¹è®¾å¤‡çš„æ‘„åƒå¤´è¿›è¡Œæ“ä½œã€‚å¦ä¸€ä¸ªæ˜¯**android.graphics.Camera**ï¼Œå¯ç”¨äºè¿›è¡Œ3Då˜æ¢ï¼Œç„¶åæŠŠå˜æ¢åçš„çŸ©é˜µMatrixä½œç”¨äºCanvasç­‰ï¼Œæˆ‘ä»¬æœ¬ç¯‡è¦ä»‹ç»çš„å°±æ˜¯è¿™ä¸ªCameraç±»ã€‚

# ç©è½¬Camera
å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼ŒCameraæ˜¯ä¸€ä¸ªèƒ½å¤Ÿè¿›è¡Œ3Då˜åŒ–çš„ç±»ï¼Œåœ¨è¿›è¡Œç©3Då˜æ¢åï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡`mCamera.getMatrix(Matrix)`æŠŠå˜æ¢çŸ©é˜µMatrixèµ‹å€¼ï¼Œç„¶åå¯ä»¥ç”¨åœ¨Canvasä¸Šã€‚æˆ–è€…ï¼Œä½ å¯ä»¥ç›´æ¥é€šè¿‡`mCamera.applyToCanvas(Canvas)`ç›´æ¥æŠŠå˜æ¢ä½œç”¨åˆ°ä¸€ä¸ªCanvasä¸Šã€‚

## Androidä¸­çš„ä¸‰ç»´åæ ‡ç³»
Androidä¸­çš„ä¸‰ç»´åæ ‡è½´ç¬¦åˆå·¦æ‰‹åæ ‡ç³»ã€‚éœ€è¦æ³¨æ„ï¼ŒAndroidä¸­çš„ä¸‰ç»´åæ ‡ç³»ä¸­çš„Yè½´å’ŒäºŒç»´çš„æ˜¯ç›¸åçš„ã€‚
![Androidä¸‰ç»´åæ ‡ç³»](http://upload-images.jianshu.io/upload_images/1869462-e0a5875d24239608.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)  
  
Cameraé»˜è®¤çš„ä½ç½®æ˜¯åœ¨(0, 0, -8)ç‚¹ã€‚

## Cameraçš„å˜æ¢æ“ä½œ

æ–¹æ³• | è¯´æ˜
:---:|:---:
getMatrix(mMatrix) | ç»™mMatrixèµ‹å€¼ã€‚
applyToCanvas(mCanvas) | å°†å˜æ¢è·å¾—çš„Matrixç›´æ¥ä½œç”¨åˆ°mCanvasä¸Šã€‚
rotate(x,y,z) | æ—‹è½¬ã€‚
rotateXã€rotateYã€rotateZ | æ—‹è½¬ã€‚
getLocationXã€getLocationYã€getLocationZ | è·å¾—Cameraçš„ä½ç½®ï¼Œé»˜è®¤æ˜¯åœ¨(0,0,-8)ç‚¹ã€‚
setLocation(x,y,z) | è®¾ç½®cameraçš„ä½ç½®ã€‚
translate(x,y,z) | å¹³ç§»Cameraã€‚
save() | ä¸Canvasçš„ç±»ä¼¼ã€‚
restore() | ä¸Canvasç±»ä¼¼ã€‚

Cameraçš„æ–¹æ³•å¹¶ä¸å¤šï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•æ˜äº†çš„ã€‚  

## Cameraçš„ä½¿ç”¨å®ä¾‹
ç”±äºä½¿ç”¨Cameraçš„æ ¸å¿ƒå°±æ˜¯è·å¾—ä¸€ä¸ªå˜æ¢åçš„Matrixï¼Œæ‰€ä»¥ä½ éœ€è¦å¯¹Matrixå…·æœ‰ä¸€å®šçš„è®¤è¯†ã€‚å…³äºMatrixçš„å…¥é—¨çº§ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹æˆ‘çš„è¿™ä¸¤ç¯‡åšå®¢ã€‚  
[Androidâ€”â€”Matrixå˜æ¢çŸ©é˜µçš„æ¢ç´¢(1)](http://www.jianshu.com/p/34e517a5b0d0)ï¼›  
[Androidâ€”â€”Matrixå˜æ¢çŸ©é˜µçš„æ¢ç´¢ï¼ˆ2ï¼‰](http://www.jianshu.com/p/b845979271d3)   

### æ¼”ç¤ºDemo1
![image](http://upload-images.jianshu.io/upload_images/1869462-d4fb957b63efa0aa.gif?imageMogr2/auto-orient/strip)  
ä¸‹é¢æ˜¯githubæºç çš„é“¾æ¥ï¼š  
[Githubæºç é“¾æ¥](https://github.com/chenBingX/CoorChiceLibOne/blob/master/app/src/main/java/com/chenbing/coorchicelibone/CustemViews/CameraTest.java)  

### 3D ViewGroupæ¼”ç¤º
![image](http://upload-images.jianshu.io/upload_images/1869462-423aaeba3c6bf881.gif?imageMogr2/auto-orient/strip)

[Githubæºç é“¾æ¥](https://github.com/chenBingX/CoorChiceLibOne/blob/master/app/src/main/java/com/chenbing/coorchicelibone/CustemViews/SquareLayout.java)  

### Cameraç”¨äºè‡ªå®šä¹‰åŠ¨ç”»
ç›´æ¥ä¸Šä¸ªä»£ç å®ä¾‹ï¼Œç”¨æ³•å’Œå‰é¢çš„ä¾‹å­æ²¡ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ï¼Œéƒ½æ˜¯é€šè¿‡Cameraå˜æ¢ä¹‹åè·å¾—MatrixçŸ©é˜µã€‚ 
```
public class Custom3DAnimation extends Animation {

    private Camera mCamera;
    private int centerWidth;
    private int centerHeight;

    public void setmRotateY(float mRotateY) {
        this.mRotateY = mRotateY;
    }

    private float mRotateY;

    public Custom3DAnimation() {
        mCamera = new Camera();
        mRotateY = 90;
    }

    @Override
    protected void applyTransformation(float interpolatedTime, Transformation t) {
                Matrix matrix = t.getMatrix();  //è·å¾—Transformationçš„Matrix
                mCamera.save();//ä¿å­˜å½“å‰é•œå¤´çŠ¶æ€
        mCamera.rotateY(mRotateY * interpolatedTime); //ä½¿ç›¸æœºæ—‹è½¬
        mCamera.getMatrix(matrix); //å°†æ—‹è½¬å˜æ¢ä½œç”¨åˆ°matrixä¸Š
        mCamera.restore(); //åˆå¹¶é•œå¤´å±‚
        matrix.preTranslate(centerWidth, centerHeight);//æ“ä½œå‰å¹³ç§»
        matrix.postTranslate(-centerWidth, -centerHeight); //æ“ä½œåå¹³ç§»

    }

    @Override
    public void initialize(int width, int height, int parentWidth, int parentHeight) {
        super.initialize(width, height, parentWidth, parentHeight);
                setDuration(5 * 1000); //è®¾ç½®é»˜è®¤æŒç»­æ—¶é—´
        setFillAfter(true); //è®¾ç½®åŠ¨ç”»ç»“æŸåæ˜¯å¦ä¿æŒçŠ¶æ€
        setInterpolator(new LinearInterpolator()); //è®¾ç½®æ’å€¼å™¨
        centerWidth = width / 2;
                centerHeight = height / 2;
    }
}
```

# æ€»ç»“
Cameraçš„ä½¿ç”¨å…¶å®å¹¶ä¸å¤æ‚ï¼Œåªéœ€è¦è®°ä½å‰é¢æåˆ°çš„å‡ ä¸ªæ–¹æ³•å°±è¡Œã€‚ç”±äºCameraæœ€ç»ˆæ˜¯è¾“å‡ºä¸€ä¸ªçŸ©é˜µï¼Œæ‰€ä»¥è¿˜éœ€è¦å¯¹çŸ©é˜µæœ‰ä¸€å®šçš„æŒæ¡ã€‚ä¸Šé¢æˆ‘å·²ç»ç»™å‡ºäº†çŸ©é˜µå¿«é€Ÿä½¿ç”¨çš„æŒ‡å—ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®æƒ…å†µè‡ªè¡Œå‚è€ƒã€‚  


å¦‚æœä½ è§‰å¾—è¿˜ä¸é”™ï¼Œé‚£å°±åŠ¨åŠ¨å°æ¶æ¶æ•²ä¸ªå…³æ³¨ã€ç‚¹ä¸ªèµå“¦ğŸ˜˜ï¼
