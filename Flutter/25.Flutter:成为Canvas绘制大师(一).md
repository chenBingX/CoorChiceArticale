[![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/Flutterå¿«é€Ÿä¸Šæ‰‹æŒ‡å—å°é¢2.JPG)](https://juejin.im/post/5c8f8e62e51d456a0f23d0fe)

[**ç›®å½•ä¼ é€é—¨ï¼š**ã€ŠFlutterå¿«é€Ÿä¸Šæ‰‹æŒ‡å—ã€‹å…ˆå¯¼ç¯‡](https://juejin.im/post/5c8f8e62e51d456a0f23d0fe)

æœ¬ç¯‡ä¼šä»‹ç»ä¸€äº› Flutter ä¸­ Canvas çš„å¸¸ç”¨ç»˜åˆ¶æ“ä½œã€‚

# Canvas çš„ç»˜åˆ¶åæ ‡ç³»

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasåæ ‡ç³».png)

ä¸Šå›¾æ˜¯ Canvas ç»˜åˆ¶åŒºåŸŸå†…çš„åæ ‡ç³»ã€‚

åŸç‚¹åœ¨å·¦ä¸Šè§’ï¼Œæ°´å¹³å‘å³ä¸º x è½´æ­£æ–¹å‘ï¼Œå‚ç›´å‘ä¸‹ä¸º y è½´æ­£æ–¹å‘ã€‚

# å¸¸ç”¨ç»˜åˆ¶æ“ä½œ

## ç»˜åˆ¶çº¿æ®µdrawLine()

ç»˜åˆ¶çº¿æ®µã€‚

ğŸŒ° e.g.:

```
canvas.drawLine(Offset(10, 10), Offset(250, 250), paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/custompainter1.png)

çº¿æ®µçš„å®½åº¦é€šè¿‡ `Paint.strokeWidth` å±æ€§å¯ä»¥è®¾ç½®çº¿æ®µçš„å®½åº¦ã€‚


## ç»˜åˆ¶ç‚¹drawPoints()

ç»˜åˆ¶ä¸€ç³»åˆ—çš„ç‚¹ï¼Œå¯ä»¥é“¾æ¥æˆçº¿æ®µã€‚

ğŸŒ° e.g.:

```
canvas.drawPoints(
    ui.PointMode.points,
    [Offset(200, 200), Offset(250, 250), Offset(50, 200), Offset(100, 250)],
    paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/pointæ–¹.png)

é»˜è®¤æƒ…å†µä¸‹ï¼Œç‚¹æ˜¯æ–¹å½¢çš„ã€‚

å¦‚æœæƒ³è¦ç»˜åˆ¶åŸç‚¹ï¼Œåªéœ€è¦é…ç½® `paint.strokeCap=StrokeCap.round` å³å¯ã€‚

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/pointåœ†.png)

ğŸ–¼ æ•ˆæœï¼š

å¦‚æœè®¾ç½® `ui.PointMode.polygon`ï¼Œè¿™äº›ç‚¹å°±ä¼šæŒ‰ç…§ç‚¹æ•°ç»„é¡ºåºï¼Œä»å‰å¾€åçš„é“¾æ¥ã€‚

```
canvas.drawPoints(
    ui.PointMode.polygon,
    [Offset(200, 200), Offset(250, 250), Offset(50, 200), Offset(100, 250)],
    paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/pointçº¿æ®µ.png)

## ç»˜åˆ¶è·¯å¾„drawPath()

ç»˜åˆ¶ä¸€ä¸ªè·¯å¾„ã€‚

Path æœ‰å¾ˆå¤šçš„æ–¹æ³•å»æ„å»ºè·¯å¾„ï¼Œè¿™é‡Œä¸å±•å¼€äº†ï¼Œå¯ä»¥å‚è€ƒï¼š[**Path API**](https://docs.flutter.io/flutter/dart-ui/Path-class.html)ã€‚

ğŸŒ° e.g.:

```
Path path = Path();
path.moveTo(100, 100);
path.lineTo(200, 200);
path.lineTo(250, 200);
path.lineTo(200, 250);
canvas.drawPath(path, paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/path.png)

é—­åˆè·¯å¾„ `path.close()`ã€‚

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/pathclose.png)

è®¾ç½®å¡«å……æ•ˆæœ `paint..style=PaintingStyle.fill`ã€‚

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/pathfill.png)

## ç»˜åˆ¶çŸ©å½¢drawRect()

ç»˜åˆ¶çŸ©å½¢ã€‚

ä½ éœ€è¦æä¾›ä¸€ä¸ª **Rect**ï¼Œå½“ç„¶åˆ›å»º Rect çš„æ–¹å¼ä¹Ÿå¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒï¼š[**Rect API**](https://docs.flutter.io/flutter/dart-ui/Rect-class.html)ã€‚

ğŸŒ° e.g.:

```
 Rect rect = Rect.fromCircle(
     center: Offset(size.width / 2, size.height / 2), radius: 100);
 canvas.drawRect(rect, paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/rectstroke.png)

è®¾ç½®å¡«å……æ•ˆæœ `paint..style=PaintingStyle.fill`ã€‚

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/rectfill.png)

## ç»˜åˆ¶åœ†è§’çŸ©å½¢drawRRect()

ç»˜åˆ¶åœ†è§’çŸ©å½¢ã€‚

ä½ éœ€è¦æä¾›ä¸€ä¸ª **RRect**ï¼Œå½“ç„¶åˆ›å»º RRect çš„æ–¹å¼ä¹Ÿå¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒï¼š[**RRect API**](https://docs.flutter.io/flutter/dart-ui/RRect-class.html)ã€‚

ä½ ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥å®ç° `drawRect()` çš„æ•ˆæœï¼Œåªè¦æŠŠåœ†è§’è®¾ä¸º 0ã€‚

ğŸŒ° e.g.:

```
Rect rect1 = Rect.fromCircle(
    center: Offset(size.width / 2, size.height / 2), radius: 150);
RRect rRect = RRect.fromRectAndRadius(rect1, Radius.circular(20));
canvas.drawRRect(rRect, paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/rrect.png)

## ç»˜åˆ¶åµŒå¥—åœ†è§’çŸ©å½¢drawDRRect()

ç»˜åˆ¶åµŒå¥—çš„åœ†è§’çŸ©å½¢ã€‚

âš ï¸ ç¬¬ä¸€ä¸ªå‚æ•° outer å¿…é¡»æ¯”ç¬¬äºŒä¸ªå‚æ•° inner è¦å¤§ï¼Œå¦åˆ™å°±ä¸æ˜¾ç¤ºäº†ã€‚

ğŸŒ° e.g.:

```
Rect rect1 = Rect.fromCircle(
    center: Offset(size.width / 2, size.height / 2), radius: 140);
Rect rect2 = Rect.fromCircle(
    center: Offset(size.width / 2, size.height / 2), radius: 160);
RRect rRect1 = RRect.fromRectAndRadius(rect1, Radius.circular(20));
RRect rRect2 = RRect.fromRectAndRadius(rect2, Radius.circular(20));
canvas.drawDRRect(rRect2, rRect1, paint);
```

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/drectstroke.png)


è®¾ç½®å¡«å……æ•ˆæœ `paint..style=PaintingStyle.fill`ã€‚

ğŸ–¼ æ•ˆæœï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/drectfill.png)

å¥½äº†ï¼Œæœ¬ç¯‡å°±åˆ°è¿™äº†ã€‚

ä½ å¯ä»¥èŠ±äº›æ—¶é—´ç¼–å†™ä¸€ä¸‹è¿™äº›ä»£ç ï¼Œè¿è¡Œèµ·æ¥æ„Ÿå—ä¸‹æ•ˆæœã€‚

æƒ³è¦å­¦ä¹ çš„æ›´å¤šï¼Œè¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚

