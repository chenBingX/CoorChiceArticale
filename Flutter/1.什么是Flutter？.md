[![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/Flutterå¿«é€Ÿä¸Šæ‰‹æŒ‡å—å°é¢2.JPG)](https://juejin.im/post/5c8f8e62e51d456a0f23d0fe)

[**ç›®å½•ä¼ é€é—¨ï¼š**ã€ŠFlutterå¿«é€Ÿä¸Šæ‰‹æŒ‡å—ã€‹å…ˆå¯¼ç¯‡](https://juejin.im/post/5c8f8e62e51d456a0f23d0fe)

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/Flutter-logo.png)

# 1. ä»€ä¹ˆæ˜¯ Flutterï¼Ÿ

[Flutter](https://github.com/flutter/flutter) æ˜¯ä¸€å¥—ç”± Google ä¸»å¯¼å¼€å‘çš„å…¨æ–°çš„ã€è·¨å¹³å°çš„ç§»åŠ¨åº”ç”¨å¼€å‘æ¡†æ¶ã€‚

Flutter ä½¿ç”¨ç®€æ´çš„ [Dart](https://www.dartlang.org/) è¯­è¨€æ¥è¿›è¡Œå¼€å‘å·¥ä½œã€‚

å®ƒæ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„åŸç”Ÿè·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œå®ƒå®Œç¾çš„åšåˆ°äº†ä¸€å¥—ä»£ç ï¼Œå³å¯åœ¨ Androidã€iOS ä¸¤å¤§ä¸»æµç§»åŠ¨å¹³å°è¿è¡Œã€‚

Google æœ€ç¥ç§˜çš„ã€å…¨æ–°çš„ **å¤§ä¸€ç»Ÿ** æ“ä½œç³»ç»Ÿï¼ˆæ®è¯´å®ƒæœ‰å–ä»£ Android ç­‰ç§»åŠ¨å¹³å°çš„è®¡åˆ’ğŸ˜¨ï¼‰â€”â€” [**Fuchsia**](https://en.wikipedia.org/wiki/Google_Fuchsia)ï¼Œå°±ä½¿ç”¨ Flutter æ¥ä½œä¸ºå…¶ç³»ç»Ÿå¹³å°çš„åº”ç”¨å¼€å‘æ¡†æ¶ã€‚

è¿‘ä¸¤å¹´ Google åœ¨èŠ±è´¹å¾ˆå¤šèµ„æºæŠ•å…¥åˆ° Flutter çš„å¼€å‘å’Œæ¨å¹¿å·¥ä½œä¸­ï¼Œéš¾é“æ˜¯ä¸º **Fuchsia** çš„é¢ä¸–è€Œé“ºè·¯ï¼ŸğŸ¤”

è¿™æ˜¯ç›®å‰ Flutter çš„æ¶æ„å›¾ï¼š

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/flutter-æ¶æ„2.png)

ä»å›¾ä¸­å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ï¼Œä»ä¸‹åˆ°ä¸Šï¼š

- **Embedder**ï¼Œå¯¹æ¥å¹³å°åµŒå…¥å±‚

- **Engine**ï¼Œç”± **c/c++** ç¼–å†™çš„ Flutter å¼•æ“

- **Framework**ï¼Œç”± **Dart** ç¼–å†™çš„ Framework æ¡†æ¶

Flutter ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨åŸç”Ÿå±‚é¢ä¸Šåšåˆ°è·¨å¹³å°ï¼Œæ˜¯å› ä¸ºå®ƒé€šè¿‡åœ¨åº•å±‚ä½¿ç”¨é€šç”¨çš„å›¾å½¢ç»˜åˆ¶åº“ [Skia](https://zh.wikipedia.org/wiki/Skia_Graphics_Library)ï¼ˆç»˜åˆ¶å†…å®¹ä¼šè¢«é€šè¿‡ [OpenGL](https://en.wikipedia.org/wiki/OpenGL) æä¾›ç»™ GPU æ¸²æŸ“ï¼‰ï¼Œå°è£…äº†ä¸€å¥—å…¨æ–°çš„ã€ç‹¬ç«‹çš„ UI æ¡†æ¶ï¼Œå³ Flutterã€‚


# 2. Flutter çš„ç‰¹æ€§

## 2.1 å¥½çš„æ–¹é¢
1. Flutter å¯ä»¥å®ç°ä¸€å¥—ä»£ç ï¼ŒåŒæ—¶è¿è¡Œåœ¨ Androidã€iOS ä¸¤å¥—ç§»åŠ¨è®¾å¤‡ä¸Šã€‚

    ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/flutter-è·¨å¹³å°.png)


2. Flutter å†…éƒ¨å®ç°äº†ä¸€å¥—è‡ªæœ‰çš„ UI æ¸²æŸ“å¼•æ“ï¼Œå¹¶ä¸”æä¾›äº†ä¸€å¥—å®Œæ•´çš„ã€ä¸°å¯Œçš„ã€æ— å…³å¹³å°çš„ UI åº“ã€‚
ç›¸æ¯”å…¶å®ƒçš„è·¨å¹³å°æ–¹æ¡ˆï¼ŒFlutter æ˜¾ç„¶å…·æœ‰æ›´é«˜çš„æ€§èƒ½ï¼Œæ›´åŠ è´´åˆåŸç”Ÿã€‚

    ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/flutter-uiå¤š.png)

3. ç”±äº Flutter åº”ç”¨å±‚ä½¿ç”¨äº† Dart è¯­è¨€æ¥è¿›è¡Œå¼€å‘ã€‚
ç”±äº Dart åŒæ—¶æ”¯æŒ [ AOTï¼ˆAhead Of Timeï¼Œé¢„ç¼–è¯‘ï¼‰](https://en.wikipedia.org/wiki/Ahead-of-time_compilation)
å’Œ [JITï¼ˆJust In Timeï¼Œå³æ—¶ç¼–è¯‘ï¼‰](https://en.wikipedia.org/wiki/Just-in-time_compilation) ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼Œ
æ‰€ä»¥åœ¨å¼€å‘é˜¶æ®µï¼ŒFlutter é€šè¿‡ JIT æ¨¡å¼æ¥è·å¾— [`Hot-reload`](https://flutter.dev/docs/development/tools/hot-reload) çš„ç‰¹æ€§ã€‚
è€Œåœ¨å‘å¸ƒé˜¶æ®µï¼ŒFlutter é€šè¿‡ AOT æ¨¡å¼é¢„ç¼–è¯‘è·å¾—é«˜æ€§èƒ½çš„åº”ç”¨ç¨‹åºåŒ…ã€‚

 ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/hot-reload.gif)

4. çƒ­åº¦æŒç»­ä¸Šå‡çš„ç¤¾åŒºæ´»è·ƒåº¦ã€‚è¿™æ„å‘³ç€ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…æŠ•èº«åˆ° Flutter çš„å»ºè®¾ä¸­ï¼Œè¿™è®©å¼€å‘è€…å¯¹å…¶æœªæ¥çš„ç¨³å®šæ€§å’Œä¸°å¯Œæ€§æä¾›äº†ä¿¡å¿ƒã€‚
è¿™å¼ å›¾æ˜¾ç¤ºäº† Flutter åœ¨ [StackOverflow](https://stackoverflow.com/) ä¸Šçš„æ´»è·ƒè¶‹åŠ¿ã€‚

    ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/Flutter-æ´»è·ƒåº¦.png)  
    
5. æœ€æ–°çš„ Flutter 1.2 ç‰ˆæœ¬å·²ç»æ”¯æŒäº† Android çš„ **AppBundle**ï¼Œè¿™æ„å‘³ç€çƒ­æ›´æ–°ï¼Œå’Œæ›´å°çš„å®‰è£…åŒ…æˆä¸ºäº†å¯èƒ½ã€‚

## 2.2 ä¸å¥½çš„æ–¹é¢

1. ç”±äº Flutter æ˜¯çº¯è‡ªå»ºçš„ UI åº“ï¼Œå¦‚æœä¸€äº›è‡ªå®šä¹‰çš„ UI åº“ä½¿ç”¨äº†å…¶ä¸­ä¸€ä¸ªå¹³å°ç‰¹æ€§ï¼Œ
é‚£ä¹ˆå°±ä¼šé€ æˆå¦ä¸€ä¸ªå¹³å°æ— æ³•ä½¿ç”¨çš„æƒ…å†µã€‚

  å› æ­¤ï¼Œå¼€å‘è€…å¿…é¡»æ—¶åˆ»è°¨æ…çš„é€‰æ‹©å’Œç¼–å†™è‡ªå®šä¹‰çš„ Widgetã€‚

2. ä¹Ÿè®¸ç”±äº Flutter åˆšåˆšå‡ºç°ï¼Œç¤¾åŒºç›¸å…³çš„å·¥å…·å’Œåº“æ²¡æœ‰å¾ˆä¸°å¯Œã€‚
æœ‰æ—¶å€™å‡ºç°çš„è¯¸å¦‚å¸ƒå±€ç­‰é”™è¯¯æ—¶ï¼Œä¼šè®©äººæ„Ÿåˆ°å¾ˆå›°æƒ‘ï¼Œå¹¶ä¸”ä½ å¯èƒ½å¾ˆéš¾åœ¨ Google ä¸Šæœç´¢åˆ°æœ‰ç”¨çš„ä¿¡æ¯ã€‚

3. ç›®å‰ Debug è¿˜ä¸æ˜¯æœ€å¥½ç”¨çš„æ—¶å€™ï¼Œè‡³å°‘å’Œä¼ ç»Ÿçš„åŸç”Ÿ Debug ç›¸æ¯”ï¼Œè¿˜æœ‰å¾ˆå¤§çš„æé«˜ç©ºé—´ã€‚

4. ç›¸æ¯”äº Android çš„ xml åˆ›å»º UIï¼Œç›®å‰ Flutter æ‰€æä¾›çš„ UI
   åˆ›å»ºæ–¹å¼ä¸æ˜¯ç›´è§‚ã€‚å¼€å‘è€…éœ€è¦è¾ƒé•¿çš„ä¸€æ®µæ—¶é—´å»é€‚åº”ã€‚

   é¢å¯¹è¾ƒå¤æ‚çš„å¸ƒå±€ï¼Œå¼€å‘è€…å¿…é¡»æ—¶åˆ»ä¿æŒæ¸…é†’çš„æ„è¯†ï¼Œä¸æ–­çš„åˆç†çš„åˆ’åˆ†ä½ çš„ä»£ç ã€‚

---

æ€»ä¹‹ï¼ŒFlutter å¯¹äºç§»åŠ¨ç«¯å¼€å‘æ•ˆç‡çš„æå‡æ˜¯ä¸è¨€è€Œå–»çš„ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œå®ƒä½¿å¾—å¼€å‘äººå‘˜åªç”¨ç¼–å†™ä¸€å¥—ä»£ç ï¼Œå°±èƒ½åœ¨ Android å’Œ iOS ä¸ŠåŒæ—¶è¿è¡Œã€‚
è€Œä¸”ï¼Œè¿˜èƒ½ç»´æŒè¾ƒé«˜çš„æ€§èƒ½æ°´å¹³ï¼Œè¿™æ˜¯è®©äººå–œçˆ±çš„ã€‚è¿˜èƒ½è¯´ä»€ä¹ˆå‘¢ï¼ŒFlutter å€¼å¾—ç§»åŠ¨å¼€å‘è€…ä¸€è¯•çš„ã€‚

