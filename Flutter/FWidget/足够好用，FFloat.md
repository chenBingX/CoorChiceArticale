# è¶³å¤Ÿå¥½ç”¨ï¼ŒFFloat

[![](https://gw.alicdn.com/tfs/TB10J77tNv1gK0jSZFFXXb0sXXa-720-353.png)](https://github.com/Fliggy-Mobile)

> **FWidget** ç”¨å¿ƒæä¾›ç²¾è‡´çš„ç»„ä»¶ï¼ŒåŠ©æ‚¨æ„å»ºç²¾ç¾çš„åº”ç”¨ã€‚

ä½ å¥½å¼€å‘è€…ï¼Œæ¥è§è¯†ä¸€ä¸‹ï¼Œè¿™æ˜¯ç”±æˆ‘ä»¬ç²¾å¿ƒä¸ºä½ çƒ˜åŸ¹ğŸ©çš„å…¨æ–°ç»„ä»¶ï¼Œ**Fï½ï½ï½Float**ã€‚

![](https://gw.alicdn.com/tfs/TB1DTbvGy_1gK0jSZFqXXcpaXXa-360-360.jpg)


**FFloat** æ˜¯ç”± **[ã€é˜¿é‡Œå·´å·´-é£çŒª-FliggyMobile æŠ€æœ¯å›¢é˜Ÿã€‘](https://github.com/Fliggy-Mobile)** æ‰€å¼€å‘ç»´æŠ¤çš„ **FWidget** ç³»åˆ—ç»„ä»¶ä¸­çš„ç¬¬ **5** ä¸ªæˆå‘˜ã€‚

æ­£å¦‚æˆ‘ä»¬çš„ **Slogan**ï¼š**"ç”¨å¿ƒæä¾›ç²¾è‡´çš„ç»„ä»¶ï¼ŒåŠ©æ‚¨æ„å»ºç²¾ç¾çš„åº”ç”¨ã€‚"** 

æˆ‘ä»¬æ­£åœ¨ç”¨å¿ƒçš„å°è¯•é›•ç¢å‡ºä¸€å¥—å¥½ç”¨çš„ç²¾ç¾çš„ç»„ä»¶ï¼Œæ¥å¸®åŠ©å¼€å‘è€…ä»¬æ›´æ˜“æ„å»ºå‡º **Beautiful App**ã€‚

åœ¨è¿‡å»çš„å‡ å‘¨ä¸­ï¼Œæˆ‘ä»¬å·²ç»é™†ç»­å‘å¼€æºç¤¾åŒºå¼€æ”¾äº† **4** ä¸ªç²¾è‡´çš„åŸºç¡€åŠŸèƒ½æ€§ç»„ä»¶ï¼Œæ”¶åˆ°äº†æ¥è‡ªå¼€å‘è€…ä»¬æŠ•å‡ºçš„ [**333** ä¸ª **Star**](https://github.com/Fliggy-Mobile)ï¼Œéå¸¸æ„Ÿè°¢å¼€å‘è€…ä»¬çš„è®¤å¯å’Œæ”¯æŒ ğŸ¥°ã€‚

å¦‚ä»Šï¼Œæˆ‘ä»¬è¿æ¥äº† **FWidget** çš„ç¬¬ **5** ä¸ªæˆå‘˜ï¼Œ **FFloat** ã€‚  

 **FFloat** çš„è¯ç”Ÿï¼Œæ¥æºäºæˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä¸€ç›´æ£˜æ‰‹çš„ **æµ®åŠ¨å…ƒç´ ** é—®é¢˜ã€‚
 
æˆ‘ä»¬å‡ ä¹å¾ˆéš¾è®¡ç®—å‡ºï¼Œåœ¨  **FFloat**  å‡ºç°ä»¥å‰ï¼Œå½“éœ€è¦å¼€å‘å¦‚ä¸‹äº¤äº’å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬çš„ç„¦è™‘èƒ½è®©æˆ‘ä»¬å–æ‰å‡ ç½[å¯å£å¯ä¹](https://www.coca-cola.com.cn/)ğŸ¥¤

![](https://gw.alicdn.com/tfs/TB1YErvGvb2gK0jSZK9XXaEgFXa-331-114.gif)

å½“ç„¶ï¼Œå°±è¿™ä¸ªä¾‹å­ğŸŒ°è€Œè¨€ï¼Œç®—æ˜¯ååˆ†ç®€å•çš„ **æµ®åŠ¨å…ƒç´ ** ç¤ºä¾‹äº†ã€‚

 **FFloat**  çš„å‡ºç°ï¼Œå°†ä¼šè®©ä¸€åˆ‡çš„éš¾é¢˜éƒ½è¿åˆƒè€Œè§£ã€‚ç°åœ¨ï¼Œæ—¶é—´ç‚¹å°†ä¼šåˆ†ä¸ºä¸¤æ®µï¼Œ **FFloatå‡ºç°å‰**  å’Œ  **FFloatå‡ºç°å** ã€‚
 
![](https://gw.alicdn.com/tfs/TB1za6OGET1gK0jSZFrXXcNCXXa-720-403.png)
 
 
 **FFloat**  åœ¨åŒ–ç®€ä¸ºç¹æ–¹é¢æ˜¯å¤©ç”Ÿçš„å¥½æ‰‹ã€‚
 
 è¿™å¾—åœ¨ç›Šäºæˆ‘ä»¬åœ¨  **FFloat**  å†…éƒ¨è¿›è¡Œäº†å¤§é‡ç¹ççš„é€»è¾‘å¤„ç†å’Œè®¡ç®—ï¼Œä½¿å¾—å¼€å‘è€…åœ¨ä½¿ç”¨æ—¶ï¼Œèƒ½å¤Ÿä»¥æœ€è‡ªç„¶çš„ï¼Œæœ€ç®€å•çš„æ–¹å¼å» **è¿˜åŸåˆ›é€ ** ã€‚


![](https://gw.alicdn.com/tfs/TB1j5H_GuH2gK0jSZFEXXcqMpXa-720-922.png)
![](https://gw.alicdn.com/tfs/TB10qvQFrj1gK0jSZFOXXc7GpXa-964-1232.png)


# âœ¨ ç‰¹æ€§

è¿™æ˜¯  **FFloat**  ä¸ºå¼€å‘è€…ä»¬å¸¦æ¥çš„ä¸€äº›ç‰¹æ€§ï¼š

- åŒæ—¶æ”¯æŒ **é”šç‚¹æ¨¡å¼** å’Œ **ç»å¯¹æ¨¡å¼** åŒå®šä½æ¨¡å¼

- å¤Ÿçµæ´»ï¼Œä½†ç®€å•çš„ **ä½ç½®æ§åˆ¶** 

- æ”¯æŒé…ç½® **èƒŒæ™¯é®ç½©** 

- è‡ªå¸¦ **ç²¾ç¾åŠ¨æ•ˆ** ï¼Œèƒ½å¤Ÿæ ¹æ®ä½ç½®å…³ç³»æ™ºèƒ½è°ƒæ•´

- ä¸°å¯Œçš„ **è£…é¥°ä¸‰è§’** é…ç½®

- å¤–å±‚å®¹å™¨æ”¯æŒ **åœ†è§’ã€è¾¹æ¡†ã€æ¸å˜ã€é˜´å½±** ç­‰è¯¸å¤šé…ç½®

- ä¾¿æ·çš„**æ˜¾ç¤º/éšè—æ§åˆ¶**


![](https://gw.alicdn.com/tfs/TB1BBv0FUY1gK0jSZFCXXcwqXXa-225-225.jpg)


# ğŸ›¸ ä¼ é€åŒº

#### ğŸ›¸ [ã€ä¼ é€é—¨ï¼šFFloat Github ä¸»é¡µ - æ„Ÿè°¢æ‚¨çš„ Star ğŸŒŸã€‘](https://github.com/Fliggy-Mobile/ffloat)

#### ğŸ“– [ã€ä¼ é€é—¨ï¼šFFloat æ–‡æ¡£ã€‘](https://pub.dev/documentation/ffloat/latest/ffloat/ffloat-library.html)

# ğŸ“ åŸºäºé”šç‚¹å…ƒç´ çš„ä½ç½®æ§åˆ¶

> è¶³å¤Ÿç®€å•ï¼Œè¶³å¤Ÿæœ‰æ•ˆ

![](https://gw.alicdn.com/tfs/TB1GwD9FhD1gK0jSZFyXXciOVXa-464-140.gif)

```dart
FFloat(
  /// æµ®åŠ¨å…ƒç´ å†…å®¹
  (setter) => createContent(),
  alignment: _alignment,
  margin: _margin

  /// é”šç‚¹å…ƒç´ 
  anchor: buildAnchor(),
)
```

**FFloat** ä¸å¯æ€è®®çš„åœ°æ–¹åœ¨äºï¼Œå¼€å‘è€…åªéœ€è¦é€šè¿‡ `anchor` å‚æ•°æä¾›ä¸€ä¸ªé”šç‚¹ï¼Œ **FFloat**  å°±èƒ½çŸ¥é“å¦‚ä½•åœ¨æ­£ç¡®çš„åœ°æ–¹æ˜¾ç¤º **æµ®åŠ¨å…ƒç´ **ã€‚ 

è€Œä¸” **FFloat** ä¸ä¼šå¯¹åŸæœ¬çš„é”šç‚¹å…ƒç´ åŠå¯è§è§†å›¾æ ‘ç»“æ„äº§ç”Ÿä»»ä½•ä¸åˆ©å½±å“ï¼Œè¿™å¾ˆç¥å¥‡å§ï¼

å¯¹äºæ‰€è¦å±•ç¤ºçš„å†…å®¹ï¼Œ **FFloat** é€šè¿‡  **FloatBuilder** å‡½æ•°æ¥æ„å»ºã€‚å¼€å‘è€…åªéœ€è¦åœ¨è¯¥å‡½æ•°ä¸­è¿”å›éœ€è¦å±•ç¤ºçš„æµ®åŠ¨å†…å®¹ï¼Œå‰©ä¸‹çš„äº‹æƒ…ï¼Œ **FFloat**  ä¼šå¤„ç†å¥½ã€‚

æ­¤å¤–ï¼Œåœ¨ **FloatBuilder** å‡½æ•°ä¸­ï¼Œå¼€å‘è€…èƒ½å¤Ÿé€šè¿‡å‡½æ•°çš„å‚æ•°è·å–åˆ°åˆ·æ–°å‡½æ•°  **StateSetter** ï¼Œè¿™æ ·å¯ä»¥å°†åˆ·æ–°èŒƒå›´é™åˆ¶åœ¨æµ®åŠ¨å†…å®¹åŒºåŸŸä¸­ï¼Œè€Œä¸æ˜¯å»åˆ·æ–°æ•´ä¸ªé¡µé¢åŒºåŸŸã€‚è¿™å¯¹äºæ„å»ºä¸€ä¸ªç²¾ç¾ä¸æ»‘çš„åº”ç”¨æ¥è¯´ï¼Œè‡³å…³é‡è¦ã€‚

```dart
FFloat(
  (setter){
    return FButton(text: _text, 
      onClick: (){

        /// æ›´æ–°æµ®åŠ¨å†…å®¹
        setter((){
          updateText();
        })            
      });
  },
  ...
)
``` 

å¦‚æœå¯¹æµ®åŠ¨å…ƒç´ å‡ºç°çš„ä½ç½®ä¸æ»¡æ„ï¼Œ **FFloat**  æä¾›äº† `alignment` å’Œ `margin` å‚æ•°ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿä»¥éš¾ä»¥ç½®ä¿¡çš„ç®€å•çš„æ–¹å¼è°ƒæ•´æµ®åŠ¨å…ƒç´ çš„ä½ç½®ï¼Œç›´åˆ°æ»¡æ„ä¸ºæ­¢ã€‚


`alignment` æä¾›äº†ååˆ†å…¨é¢çš„ç›¸å¯¹ä½ç½®é€‰é¡¹ï¼š 

|ç±»å‹|è¯´æ˜|
|:--|:--|
|topLeft|åœ¨é”šç‚¹å…ƒç´ ã€ä¸Šæ–¹ã€‘ï¼Œä¸”ã€å·¦è¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|topCenter|åœ¨é”šç‚¹å…ƒç´ ã€ä¸Šæ–¹ã€‘ï¼Œä¸”æ°´å¹³å±…ä¸­|
|topRight|åœ¨é”šç‚¹å…ƒç´ ã€ä¸Šæ–¹ã€‘ï¼Œä¸”ã€å³è¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|bottomLeft|åœ¨é”šç‚¹å…ƒç´ ã€ä¸‹æ–¹ã€‘ï¼Œä¸”ã€å·¦è¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|bottomCenter|åœ¨é”šç‚¹å…ƒç´ ã€ä¸‹æ–¹ã€‘ï¼Œä¸”æ°´å¹³å±…ä¸­|
|bottomRight|åœ¨é”šç‚¹å…ƒç´ ã€ä¸‹æ–¹ã€‘ï¼Œä¸”ã€å³è¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|leftTop|åœ¨é”šç‚¹å…ƒç´ ã€å·¦ä¾§ã€‘ï¼Œä¸”ã€ä¸Šè¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|leftCenter|åœ¨é”šç‚¹å…ƒç´ ã€å·¦ä¾§ã€‘ï¼Œä¸”å‚ç›´å±…ä¸­|
|leftBottom|åœ¨é”šç‚¹å…ƒç´ ã€å·¦ä¾§ã€‘ï¼Œä¸”ã€ä¸‹è¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|rightTop|åœ¨é”šç‚¹å…ƒç´ ã€å³ä¾§ã€‘ï¼Œä¸”ã€ä¸Šè¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|
|rightCenter|åœ¨é”šç‚¹å…ƒç´ ã€å³ä¾§ã€‘ï¼Œä¸”å‚ç›´å±…ä¸­|
|rightBottom|åœ¨é”šç‚¹å…ƒç´ ã€å³ä¾§ã€‘ï¼Œä¸”ã€ä¸‹è¾¹ç¼˜ã€‘ä¸é”šç‚¹å…ƒç´ å¯¹é½|

åœ¨æ­¤åŸºç¡€ä¸Šï¼Œ`margin` å‚æ•°èƒ½å¤Ÿè®©å¼€å‘è€…åŸºäºå½“å‰çš„ç›¸å¯¹ä½ç½®å…³ç³»ï¼Œè¿›ä¸€æ­¥å¾®è°ƒæµ®åŠ¨å…ƒç´ çš„åç§»é‡ã€‚

åœ¨è¿‡å»ï¼Œè¦å®ç°è¿™ä¸€åˆ‡ï¼Œéœ€è¦è€—è´¹å¼€å‘è€…å¤§é‡çš„ç²¾åŠ›å»å¤„ç†å¤æ‚çš„ä½ç½®å…³ç³»é€»è¾‘ï¼Œç¼–å†™ä¸åŒçš„ç®—æ³•ä»¥ç¡®å®šæµ®åŠ¨å…ƒç´ çš„æœ€ç»ˆä½ç½®ã€‚

è€Œç°åœ¨ï¼Œä¸€åˆ‡å°±æ˜¯è¿™ä¹ˆç®€å•ğŸ˜ã€‚

# ğŸ“Œ åŸºäºç»å¯¹åæ ‡çš„ä½ç½®æ§åˆ¶

> å¤šä¸€ç§æ¨¡å¼ï¼Œå¤šä¸€ç§å¯èƒ½

![](https://gw.alicdn.com/tfs/TB1gnz8GrH1gK0jSZFwXXc7aXXa-858-508.gif)

```dart
GestureDetector(
  onPanDown: (details) {
    FFloat(
      (setter) => createContent(),
      autoDismissDuration: Duration(milliseconds: 2000),
      alignment: _alignment,
      canTouchOutside: false,

      /// é€šè¿‡ç»å¯¹åæ ‡é…ç½®æµ®åŠ¨å…ƒç´ ä½ç½®
      location: Offset(details.globalPosition.dx, details.globalPosition.dy),
    ).show(context); /// æ˜¾ç¤º
  },
  child: FSuper(...),
)
```

åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æµ®åŠ¨å…ƒç´ ä¸éœ€è¦åŸºäºä¸€ä¸ªé”šç‚¹å‡ºç°ï¼Œè€Œæ˜¯å¸Œæœ›å®ƒå‡ºç°åœ¨ä¸€ä¸ªç¡®å®šçš„ä½ç½®ã€‚

å¦‚æœå¼€å‘è€…çŸ¥é“ä¸€ä¸ªè¿™æ ·çš„ä½ç½®çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ `location` å‚æ•°æ¥è®¾ç½® **FFloat** çš„ä½ç½®ã€‚

æ­¤æ—¶ï¼Œå¼€å‘è€…å®Œå…¨ä¸éœ€è¦å°† **FFloat** æ”¾åˆ°è§†å›¾æ ‘ä¸­åŒ…è£¹ä»»ä½•çš„å…ƒç´ ã€‚è¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥éšæ—¶éšåœ°ï¼Œåœ¨ä»»ä½•å›è°ƒæˆ–è€…å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªæµ®åŠ¨å…ƒç´ ã€‚

é€šè¿‡ `FFloat.show(context)` å’Œ  `FFloat.dismiss()`ï¼Œå¼€å‘è€…å¯ä»¥éšæ—¶è½»æ¾çš„æ§åˆ¶æµ®åŠ¨å…ƒç´ çš„ **æ˜¾ç¤º/éšè—** ã€‚

è€Œ **FFloat** çš„å…¶å®ƒä¸€åˆ‡é…ç½®éƒ½ä¾æ—§æœ‰æ•ˆã€‚

#  ğŸ’« èƒŒæ™¯é®ç½©åŠåŠ¨æ•ˆ

> å°†æ•ˆæœä¸°å¯Œï¼Œå°†å®ç°ç®€åŒ–

![](https://gw.alicdn.com/tfs/TB179P9GuH2gK0jSZFEXXcqMpXa-720-135.gif)

```dart

# èƒŒæ™¯é®ç½©æ¼”ç¤º
FFloat(
  (_) => buildSearchWidget(),
  color: Colors.black.withOpacity(0.95),

  /// é…ç½®èƒŒæ™¯é®ç½©é¢œè‰²
  backgroundColor: Colors.black26,
  corner: FFloatCorner.all(20),
  margin: EdgeInsets.only(bottom: 10, left: 10),
  anchor: buildAnchor(),
  alignment: FFloatAlignment.topRight, 
 
  /// é…ç½®ç‚¹å‡»éæµ®åŠ¨å…ƒç´ åŒºåŸŸæ˜¯å¦éšè—
  canTouchOutside: false,
)
```

åœ¨  **FFloat**  ä¸­ï¼Œåªéœ€é€šè¿‡ `backgroundColor` ä¸€ä¸ªå‚æ•°ï¼Œå°±èƒ½å®ç°æµ®åŠ¨å…ƒç´ å‡ºç°æ—¶çš„èƒŒæ™¯é®ç½©æ•ˆæœã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æµ®åŠ¨å…ƒç´ å‡ºç°æ—¶ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰äº‹ä»¶ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ `canTouchOutside` è¿™ä¸€å‚æ•°å…³é—­è¯¥æ¨¡å¼ã€‚

```
# åŠ¨æ•ˆé…ç½®
FFloat(
  (_) => FSuper(text: "SurpriseğŸ˜ƒ !"),
  anchor: buildAnchor(),

  /// å½“è¯¥å‚æ•°ä¸ä¸º null æ—¶ï¼ŒFFloat ä¼šåœ¨æŒ‡å®šæ—¶é•¿åè‡ªåŠ¨æ¶ˆå¤±
  autoDismissDuration: Duration(milliseconds: 2000),

  /// é…ç½®åŠ¨æ•ˆæ—¶é•¿
  animDuration: Duration(milliseconds: 800),
),
```

 **FFloat**  è‡ªå¸¦ç²¾ç¾çš„äº¤äº’åŠ¨æ•ˆï¼Œæ ¹æ®æµ®åŠ¨å…ƒç´ ä½ç½®çš„ä¸åŒï¼ŒåŠ¨æ•ˆèƒ½å¤Ÿè‡ªåŠ¨çš„è¿›è¡Œè°ƒæ•´ï¼Œä»¥å‘ˆç°æœ€ä¼˜é›…çš„è§†è§‰æ•ˆæœã€‚

é€šè¿‡ `animDuration` å‚æ•°ï¼Œå¼€å‘è€…å¯ä»¥è‡ªè¡Œå®šä¹‰åŠ¨æ•ˆæ—¶é•¿ã€‚å½“ç„¶ï¼Œå¦‚æœä¸éœ€è¦ä»»ä½•åŠ¨æ•ˆï¼Œåªéœ€ä¼ å…¥ `null` å³å¯ã€‚

åœ¨å¾ˆå¤šåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€å¸Œæœ›ä¸€ä¸ªæµ®åŠ¨å…ƒç´ å‡ºç°åï¼Œèƒ½å¤Ÿåœ¨æŒç»­ä¸€æ®µæ—¶é—´åè‡ªåŠ¨æ¶ˆå¤±ã€‚

é€šå¸¸ï¼Œè¦å®ç°è¿™æ ·çš„æ•ˆæœï¼Œå¼€å‘è€…éœ€è¦åˆ›å»ºç‹¬ç«‹çš„è®¡æ—¶å™¨ï¼Œä»¥åŠçŠ¶æ€æœºï¼Œåœ¨ç‰¹æ®Šçš„çŠ¶å†µä¸‹ï¼Œè¿˜éœ€è¦é¢å¤–çš„è¿›è¡ŒçŠ¶æ€é€»è¾‘æ ¡éªŒï¼Œä»¥ç¡®ä¿è¿™ä¸€æ•ˆæœå¤©è¡£æ— ç¼ã€‚éœ€è¦è€ƒè™‘çš„é€»è¾‘å®åœ¨å¤ªå¤šã€‚

è€Œ  **FFloat**  çš„å‡ºç°ï¼Œä½¿å¾—å¼€å‘è€…åªéœ€é€šè¿‡ `autoDismissDuration` å‚æ•°ï¼Œå°±èƒ½å¤Ÿå®ç°è¿™ä¸€åŠŸèƒ½ã€‚

# ğŸ”º è£…é¥°ä¸‰è§’

> çœåŠ›ï¼Œçœå¿ƒï¼Œçœå†…å­˜

![](https://gw.alicdn.com/tfs/TB1L3JoFEH1gK0jSZSyXXXtlpXa-753-220.gif)

```dart
FFloat(
  (setter) => buildContent(),
  anchor: buildAnchor(),

  /// é…ç½®è£…é¥°ä¸‰è§’çš„ç›¸å¯¹ä½ç½®
  triangleAlignment: TriangleAlignment.start,

  /// é…ç½®è£…é¥°ä¸‰è§’çš„ç›¸å¯¹åç§»é‡
  triangleOffset: Offset(10, 10),

  /// é…ç½®è£…é¥°ä¸‰è§’çš„å®½
  triangleWidth: 20,

  /// é…ç½®è£…é¥°ä¸‰è§’çš„é«˜
  triangleHeight: 15,
)
```

åœ¨  **FFloat**  å‡ºç°ä¹‹å‰ï¼Œ **Tooltips** é£æ ¼çš„æµ®åŠ¨å…ƒç´ å®ç°å¾€å¾€è¿‡äºç¹çã€‚

è€ŒçœŸæ­£éš¾ä½å¼€å‘è€…çš„å´æ˜¯æµ®åŠ¨å…ƒç´ ä¸Šçš„ä¸€ä¸ª  **å°ä¸‰è§’** ğŸ˜²ã€‚ç›¸ä¿¡ç»éªŒä¸°å¯Œçš„å¼€å‘è€…ä¸€å®šçŸ¥é“è¿™èƒŒåçš„å¿ƒé…¸ã€‚

ç”±äºå¹³å°ç³»ç»Ÿæ²¡æœ‰æä¾›ä¸‰è§’æˆ–å¸¦æœ‰ä¸‰è§’çš„ç»„ä»¶æ”¯æŒï¼Œå¼€å‘è€…ä¸å¾—ä¸åœ¨ä½¿ç”¨  **Canvas**  ç»˜åˆ¶æˆ–ä½¿ç”¨å›¾ç‰‡æ›¿ä»£çš„æ–¹æ¡ˆä¸­ä½œå‡ºæŠ‰æ‹©ã€‚

å‰è€…çµæ´»é«˜æ•ˆï¼Œä½†å®ç°ååˆ†ç¹çï¼Œè¿™å¯ä¸ä»…ä»…æ˜¯åœ¨ **Canvas** ä¸Š **draw** ä¸ªä¸‰è§’å½¢é‚£ä¹ˆç®€å•ï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸çœŸæ­£çš„æµ®åŠ¨å…ƒç´ çš„èåˆé—®é¢˜ã€‚

åè€…å®ç°æ–¹ä¾¿ï¼Œä½†å¯¹äºä¸åŒé¢œè‰²ï¼Œä¸åŒä½ç½®ã€ä¸åŒå°ºå¯¸çš„ä¸‰è§’ï¼Œå¼€å‘è€…éœ€è¦ä¸ºå®ƒä»¬é…ç½®å¤šå¥—å›¾ç‰‡ï¼Œå¯¹çš„å†…å­˜ä¹Ÿä¼šéšæ—¶é—´é€æ­¥ç´¯åŠ ã€‚è€ƒè™‘åˆ°å¼€å‘æˆæœ¬å’Œæ•ˆç‡ï¼Œå¼€å‘è€…ä»¬å¾€å¾€éƒ½ä¼šé€‰æ‹©è¿™ç§å®ç°æ–¹å¼ã€‚

ç°åœ¨ï¼Œ**FFloat** å½»åº•è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå…¼å…·é«˜æ•ˆä¸çµæ´»ï¼Œç”šè‡³æ¯”å¼€å‘è€…ä»¬çš„æœŸæœ›æ›´è¿›ä¸€æ­¥ã€‚

åœ¨ä¸Šé¢çš„  **Code** æ¼”ç¤ºä¸­ï¼Œå±•ç¤ºäº† **FFloat** åœ¨å°ä¸‰è§’æ–¹é¢çš„å¸¸ç”¨é…ç½®ï¼ŒåŒ…æ‹¬ç®€å•çš„ç›¸å¯¹ä½ç½®å…³ç³»ã€å°ºå¯¸ã€åŠå¯å¾®è°ƒçš„ä½ç½®åç§»ã€‚

ä»æ­¤ï¼Œå¼€å‘è€…å¯ä»¥æ¸…ç†åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰ç±»ä¼¼å›¾ç‰‡èµ„æºäº† ğŸ‘ã€‚

é™¤äº†è§£å†³è¿‡å»çš„é—®é¢˜ï¼Œ **FFloat**  æ›´è¿›ä¸€æ­¥çš„èƒ½å¤Ÿæ ¹æ®æµ®åŠ¨å…ƒç´ ä»¥åŠé”šç‚¹å…ƒç´ çš„ç›¸å¯¹ä½ç½®å…³ç³»ï¼Œè‡ªåŠ¨è°ƒæ•´è‡ªèº«çš„ä¸‰è§’å½¢åˆ°åˆç†çš„ä½ç½®ã€‚è€Œè¿™ä¸€è¿‡ç¨‹ï¼Œå¯¹äºå¼€å‘è€…è€Œè¨€æ˜¯æ¯«æ— æ„ŸçŸ¥çš„ã€‚


```dart
FFloat(
  (setter) => buildContent(),

  /// é…ç½®æ˜¯å¦éšè—è£…é¥°ä¸‰è§’
  hideTriangle: true,
  anchor: buildAnchor(),
),
```

é»˜è®¤æƒ…å†µä¸‹ï¼ŒFFloat ä¼šå±•ç¤ºè£…é¥°ä¸‰è§’ã€‚å¦‚æœä¸éœ€è¦ï¼Œå¼€å‘è€…åªç”¨é…ç½® `hideTriangle: true`ï¼Œå°±å¯ä»¥å°†å®ƒéšè—ã€‚

# ğŸ”† åœ†è§’ & è¾¹æ¡†

> è™½ç„¶ç®€å•ï¼Œä½†ä¸ç®€é™‹

![](https://gw.alicdn.com/tfs/TB1xbhyFqL7gK0jSZFBXXXZZpXa-670-241.gif)

```dart

FFloat(
  (setter) => buildContent(),
  anchor: buildAnchor(),
  alignment: FFloatAlignment.bottomLeft,
  hideTriangle: true,

  /// åŠ ä¸Šåœ†è§’
  corner: FFloatCorner.all(6),

  /// åŠ ä¸Šè¾¹æ¡†
  strokeColor: mainShadowColor,
  strokeWidth: 1.0,
)
```

åœ¨ä¸Šé¢çš„ä¾‹å­ ğŸŒ° ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ¸…æ™°çš„çœ‹åˆ°ï¼Œä¸€ä¸ªæ¼‚äº®çš„å¸¦è¾¹æ¡†çš„åœ†è§’æµ®å±‚ï¼Œæ„å»ºèµ·æ¥å¦‚æ­¤çš„ç®€å•ã€‚

**FFloat** æä¾›äº† **FWidget** ç³»åˆ—ç»„ä»¶ä¸€è„‰ç›¸æ‰¿çš„ï¼Œç®€å•çš„è®¾ç½®åœ†è§’çš„æ–¹å¼ï¼Œä»…ä»…é€šè¿‡ä¸€ä¸ªç®€å•çš„ `corner` å±æ€§å°±èƒ½çµæ´»çš„é…ç½®åœ†è§’ã€‚

ä¸ `corner` é…å¥—çš„ `cornerStyle` å±æ€§ï¼Œå…è®¸å¼€å‘è€…éšæ—¶åˆ‡æ¢åœ†è§’çš„é£æ ¼ï¼ˆåœ†è§’ or æ–œåˆ‡è§’ï¼‰ã€‚

å¯¹äº **FWidget** çš„è€ç”¨æˆ·è€Œè¨€ï¼Œç›¸ä¿¡å·²ç»çŸ¥é“ï¼Œæˆ‘ä»¬ä¸ºç»„ä»¶é…ç½®è¾¹æ¡†æ•ˆæœï¼Œä»…ä»…éœ€è¦é€šè¿‡ `strokeWidth` å’Œ `strokeColor` è¿™æ ·ä¸¤ä¸ªç®€å•çš„å±æ€§å³å¯ã€‚

æˆ‘ä»¬çš„åˆå¿ƒå§‹ç»ˆæ˜¯ï¼Œå¸®åŠ©å¼€å‘è€…æ›´ç®€å•ã€æ›´é«˜æ•ˆçš„æ„å»ºå‡ºç²¾ç¾çš„åº”ç”¨ã€‚

# ğŸŒ” æ¸å˜ & é˜´å½±

> è¦ç®€æ´ï¼Œä¹Ÿè¦å‡ºå½©

![](https://gw.alicdn.com/tfs/TB11GHPFrj1gK0jSZFuXXcrHpXa-414-179.gif)

```dart

FFloat(
  (setter) => buildContent(),
  anchor: buildAnchor(),
  hideTriangle: true,
  alignment: FFloatAlignment.bottomCenter,

  /// é…ç½®æ¸å˜
  gradient: SweepGradient(
    colors: [
      Color(0xffE271C0),
      Color(0xffC671EB),
      Color(0xff7673F3),
      Color(0xff8BEBEF),
      Color(0xff93FCA8),
      Color(0xff94FC9D),
      Color(0xffEDF980),
      Color(0xffF0C479),
      Color(0xffE07E77),
    ],
  ),
  
  /// æ·»åŠ é˜´å½±
  shadowColor: Colors.black38,
  shadowBlur: 3,
  shadowOffset: Offset(3, 2),
)
```

æ˜¯çš„ï¼Œ**FFloat** åœ¨å…¼å…·äº†è¯¸å¤šèƒ½åŠ›ä¹‹åï¼Œä»ç„¶å¯¹æ¸å˜è¿›è¡Œäº†æ”¯æŒã€‚

ä»…ä»…æ˜¯é€šè¿‡ä¸€ä¸ªç®€å•çš„ `gradient` å±æ€§ï¼Œå¼€å‘è€…å°±èƒ½è·å¾—æƒŠè‰³çš„æ¸å˜æ•ˆæœã€‚

æ­¤å¤–ï¼Œä½œä¸ºä¸€ä¸ªç°ä»£åŒ–çš„ç»„ä»¶ï¼Œ**FFloat** å½“ç„¶ä¼šå¯¹é˜´å½±ä½œå‡ºæ”¯æŒã€‚

å¼€å‘è€…åªéœ€è¦é…ç½® `shadowColor` å‚æ•°å°±èƒ½è·å¾—ä¸€ä¸ªåŸºç¡€çš„é˜´å½±æ•ˆæœã€‚ 

å¦‚æœæƒ³è¦æ›´è¿›ä¸€æ­¥å¯¹é˜´å½±ä½œå‡ºè°ƒæ•´çš„ï¼Œå¯ä»¥ä½¿ç”¨ `shadowBlur` å’Œ `shadowOffset` å‚æ•°æ¥å®Œæˆã€‚

# ğŸ‘ æ›´å¤šçš„ç²¾å½©


![](https://gw.alicdn.com/tfs/TB1NGfIFAL0gK0jSZFtXXXQCXXa-460-500.gif)


æµ®åŠ¨å…ƒç´ çš„é—®é¢˜ï¼Œå°±è®© **FFloat** æ¥è§£å†³å°±å¥½äº†ï¼Œå¼€å‘è€…åªéœ€è¦ç”¨å¿ƒç¾åŒ–çš„åº”ç”¨å°±å¤Ÿäº†ã€‚


### [æƒ³è¦äº†è§£æ›´å¤šè¯¦ç»†å†…å®¹ï¼Ÿè¯·è®¿é—® **FFloat** å®˜æ–¹ä¸»é¡µ (PSï¼šåˆ«å¿˜äº†æŠ•å‡ºä¸€ä¸ªä½ è®¤å¯çš„ **Star** å“¦ ğŸ˜˜)ã€‚](https://github.com/Fliggy-Mobile/ffloat)


# ğŸ˜ƒ å¦‚ä½•ä½¿ç”¨ï¼Ÿ

åœ¨é¡¹ç›® `pubspec.yaml` æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–ï¼š

## ğŸŒ pub ä¾èµ–æ–¹å¼

```
dependencies:
  ffloat: ^<ç‰ˆæœ¬å·>
```

> âš ï¸ æ³¨æ„ï¼Œè¯·åˆ° [**pub**](https://pub.dev/packages/ffloat) è·å– **FFloat** æœ€æ–°ç‰ˆæœ¬å·

## ğŸ–¥ git ä¾èµ–æ–¹å¼

```
dependencies:
  ffloat:
    git:
      url: 'git@github.com:Fliggy-Mobile/ffloat.git'
      ref: '<åˆ†æ”¯å· æˆ– tag>'
```

> âš ï¸ æ³¨æ„ï¼Œåˆ†æ”¯å· æˆ– tag è¯·ä»¥ [**FFloat**](https://github.com/Fliggy-Mobile/ffloat) å®˜æ–¹é¡¹ç›®ä¸ºå‡†ã€‚


[![](https://gw.alicdn.com/tfs/TB1NPD0FHH1gK0jSZFwXXc7aXXa-294-220.jpg)](https://github.com/Fliggy-Mobile/ffloat)

#### [æ„Ÿè§‰è¿˜ä¸é”™ï¼Ÿè¯·åˆ° ã€ŠFFloatã€‹çš„ Github ä¸»é¡µæŠ•å‡ºæ‚¨è®¤å¯çš„ä¸€ä¸ª Star ğŸŒŸ å§ï¼](https://github.com/Fliggy-Mobile/ffloat)

# å¾€æœŸç»„ä»¶

- [ã€ŠFSuperã€‹- å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºç²¾ç¾çš„å¤æ‚è§†å›¾](https://github.com/Fliggy-Mobile/fsuper)

- [ã€ŠFButtonã€‹- ä¸ºå¼€å‘è€…å‡†å¤‡äº†è¯¸å¤šç¾å¦™çš„é…ç½®é¡¹](https://github.com/Fliggy-Mobile/fbutton)

- [ã€ŠFSwitchã€‹- å…·æœ‰ä¼˜è‰¯äº¤äº’å’Œè§†æ•ˆçš„ç²¾ç¾å¼€å…³å…ƒç´ ](https://github.com/Fliggy-Mobile/fswitch)

- [ã€ŠFRadioã€‹- ä¸€ä¸ªé€‚ç”¨äºå‡ ä¹ä»»æ„å•é€‰åœºæ™¯çš„å•é€‰ç»„ä»¶](https://github.com/Fliggy-Mobile/fradio)


