[![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/Flutterå¿«é€Ÿä¸Šæ‰‹æŒ‡å—å°é¢2.JPG)](https://juejin.im/post/5c8f8e62e51d456a0f23d0fe)

[**ç›®å½•ä¼ é€é—¨ï¼š**ã€ŠFlutterå¿«é€Ÿä¸Šæ‰‹æŒ‡å—ã€‹å…ˆå¯¼ç¯‡](https://juejin.im/post/5c8f8e62e51d456a0f23d0fe)  


é€šè¿‡å‰é¢ 3 ç¯‡ï¼š

- [25.Flutter:æˆä¸ºCanvasç»˜åˆ¶å¤§å¸ˆ(ä¸€)]()  


- [26.Flutter:æˆä¸ºCanvasç»˜åˆ¶å¤§å¸ˆ(äºŒ)]()  


- [27.Flutter:æˆä¸ºCanvasç»˜åˆ¶å¤§å¸ˆ(ä¸‰)]()  


ç›¸ä¿¡ä½ å·²ç»æŒæ¡äº† Flutter ä¸­ç»˜åˆ¶åŸºç¡€å›¾å½¢çš„æ“ä½œï¼Œæœ¬ç¯‡å°†ä¼šè®²è§£ Canvas çš„å˜æ¢æ“ä½œã€‚  

## save()ã€saveLayer() å’Œ restore()  

åœ¨å¼€å§‹äº†è§£ Canvas çš„å˜æ¢æ“ä½œæ—¶ï¼Œå…ˆçœ‹çœ‹ Canvas çš„ `save()`ã€`saveLayer()` å’Œ `restore()`ã€‚  

åœ¨è¿›è¡Œå˜æ¢æ“ä½œæ—¶ï¼Œä½ ç»å¸¸ä¼šéœ€è¦ç”¨åˆ°å®ƒä»¬ã€‚  

### save()  

`save()` æ“ä½œä¼šä¿å­˜æ­¤å‰çš„æ‰€æœ‰ç»˜åˆ¶å†…å®¹å’Œ Canvas çŠ¶æ€ã€‚  

åœ¨è°ƒç”¨è¯¥å‡½æ•°ä¹‹åçš„ç»˜åˆ¶æ“ä½œå’Œå˜æ¢æ“ä½œï¼Œä¼šé‡æ–°è®°å½•ã€‚ 

å½“ä½ è°ƒç”¨ `restore()` ä¹‹åï¼Œä¼šæŠŠ `save()` åˆ° `restore()` ä¹‹é—´æ‰€è¿›è¡Œçš„æ“ä½œä¸ä¹‹å‰çš„å†…å®¹è¿›è¡Œåˆå¹¶ã€‚  

> âš ï¸ æ³¨æ„ï¼Œ`save()` å¹¶ä¸ä¼šåˆ›å»ºæ–°çš„å›¾å±‚ï¼Œå’Œ `saveLayer()` æ˜¯ä¸åŒçš„ã€‚ 


### saveLayer() 

`saveLayer()` åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹çœ‹èµ·æ¥å’Œ `save()` çš„æ•ˆæœæ˜¯å·®ä¸å¤šçš„ã€‚  

ä¸åŒçš„æ˜¯ `saveLayer()` ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å›¾å±‚ã€‚  

åœ¨ `saveLayer()` åˆ° `restore()` ä¹‹é—´çš„æ“ä½œï¼Œæ˜¯åœ¨æ–°çš„å›¾å±‚ä¸Šè¿›è¡Œçš„ï¼Œè™½ç„¶æœ€ç»ˆå®ƒä»¬è¿˜æ˜¯ä¼šåˆæˆåˆ°ä¸€èµ·ã€‚  

çœ‹çœ‹ `saveLayer()` çš„ä¸¤ä¸ªå‚æ•°ï¼š  

- rect  
  
  Rectï¼Œç”¨äºè®¾ç½®æ–°å›¾å±‚çš„èŒƒå›´åŒºåŸŸã€‚  
  
  ä½ çš„ç»˜åˆ¶æ“ä½œåªæœ‰åœ¨è¿™ä¸ªåŒºåŸŸå†…æ‰ä¼šæœ‰æ•ˆï¼Œè¶…è¿‡è¿™ä¸ªåŒºåŸŸçš„éƒ¨åˆ†ä¼šè¢«å¿½ç•¥ã€‚  
  
  ğŸŒ° e.g.ï¼š 
  
  ```
  canvas.saveLayer(Rect.fromCircle(
      center: Offset(size.width / 2, size.height / 2), radius: 100), paint);
  // ç”¨é¢œè‰²å¡«å……æ•´ä¸ªç»˜åˆ¶åŒºåŸŸ
  canvas.drawPaint(Paint()..color = Colors.blue);
  // åœ¨ç»˜åˆ¶åŒºåŸŸä»¥å¤–ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢
  canvas.drawRect(Rect.fromLTWH(0, 0, 100, 100), Paint()..color = Colors.red);
  canvas.restore();
  ```  
  
  ğŸ–¼ æ•ˆæœï¼š 
  
  ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/savelayer1.png)
  
  ä»è¿™ä¸ªä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ–°å›¾å±‚çš„ç»˜åˆ¶å†…å®¹è¢«é™åˆ¶åœ¨äº† rect èŒƒå›´å†…ã€‚  
  
- paint  
  
  Paintï¼Œå…¶ `ColorFilters` å’Œ `BlendMode` é…ç½®ä¼šåœ¨å›¾å±‚åˆæˆçš„æ—¶å€™ç”Ÿæ•ˆã€‚  
  
  å…¶ä¸­ï¼Œå‰é¢çš„å›¾å±‚ä¸º **dst**ï¼Œæœ¬å›¾å±‚ä¸º **src** ã€‚  
  
  ğŸŒ° e.g.ï¼š 
  
  ```
  canvas.saveLayer(Rect.fromCircle(
      center: Offset(size.width / 2, size.height / 2), radius: 60), Paint()..color = Colors.red);
  canvas.drawPaint(Paint()..color = Colors.amber);
  canvas.restore();
  ```
  
   ğŸ–¼ æ•ˆæœï¼š 
   
   ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/savelayer2.png)
   
   å‰é¢çš„å›¾å±‚ç»˜åˆ¶äº†ä¸€å¼ å›¾ç‰‡ï¼Œåœ¨æ–°å›¾å±‚ä¸­ï¼Œç»˜åˆ¶äº†ä¸€ä¸ªçŸ©å½¢ã€‚  
   
   å¦‚æœ Paint æ²¡æœ‰è®¾ç½®æ··åˆå‚æ•°ï¼Œæ–°å›¾å±‚å°±ç›¸å½“äºä»…ä»…æ˜¯ç›–åœ¨äº†å‰é¢çš„å›¾å±‚ä¹‹ä¸Šã€‚  
   
   > âš ï¸ æ³¨æ„ï¼Œåœ¨ä¼ å…¥çš„ Paint å¿…é¡»è®¾ç½®è¿‡ colorï¼Œå¦åˆ™ä½ è®¾ç½®çš„ rect èŒƒå›´é™åˆ¶å°†ä¼šå¤±æ•ˆï¼  
   
   å¦‚æœå°† Paint è®¾ç½® BlendMode æ··åˆæ¨¡å¼ï¼Œå†çœ‹çœ‹æ•ˆæœã€‚  
   
   ```
   canvas.saveLayer(Rect.fromCircle(
       center: Offset(size.width / 2, size.height / 2), radius: 60), 
        Paint()
          ..color=Colors.red
          ..blendMode=BlendMode.exclusion);
   ```
   
   ğŸ–¼ æ•ˆæœï¼š  
   
   ![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/savelayer3.png)
   
  å¯ä»¥çœ‹åˆ°ï¼Œæ–°çš„å›¾å±‚å’Œä¹‹å‰çš„å†…å®¹çš„åƒç´ è¿›è¡Œäº†æ··åˆã€‚  
  
  > ğŸ’¡ æç¤ºï¼ŒBlendMode çš„æ”¯æŒçš„æ‰€æœ‰æ··åˆæ•ˆæœï¼Œå¯ä»¥å‚è€ƒï¼š[**BlendMode API**](https://docs.flutter.io/flutter/dart-ui/BlendMode-class.html)ã€‚  
  
  
### restore()  

è¯»åˆ°è¿™ï¼Œç›¸ä¿¡ä½ å¯¹ `restore()` ä¹Ÿä¸ä¼šé™Œç”Ÿäº†ã€‚  

åœ¨è°ƒç”¨ `save()` æˆ–è€… `saveLayer()` å¿…é¡»è°ƒç”¨ `restore()` æ¥åˆæˆï¼Œå¦åˆ™ Flutter ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚  

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸€ä¸ª `save()` æˆ–è€… `saveLayer()` éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå¯¹åº”çš„ `restore()`ã€‚  

ğŸŒ° e.g.ï¼š 

```
// save-1  
canvas.save();
...
// save-2
canvas.saveLayer(dstRect, paint);
...
// save-3
canvas.saveLayer(dstRect, paint);
...
// restore-3
canvas.restore();
// restore-2
canvas.restore();
// restore-1
canvas.restore(); 
```

`restore()` æ˜¯ä»ç¦»å®ƒæœ€è¿‘çš„ `save()` æˆ–è€… `saveLayer()` æ“ä½œå¼€å§‹åˆæˆã€‚  


> âš ï¸ æ³¨æ„ï¼ŒCanvas çš„å˜åŒ–æ“ä½œéœ€è¦æ”¾åˆ° `save()` æˆ–è€… `saveLayer()` åˆ° `restore()` ä¹‹é—´ï¼Œå¦åˆ™ä½ å¾ˆéš¾å¾—åˆ°æƒ³è¦çš„æ•ˆæœã€‚

## å¹³ç§»ç”»å¸ƒtranslate()  

`translate()` ç”¨äºå°†ç”»å¸ƒç›¸å¯¹äºåŸæ¥çš„ä½ç½®ï¼Œå¹³ç§»æŒ‡å®šçš„è·ç¦»ã€‚  

ä¸‹é¢çœ‹ä¸ªä¾‹å­ ğŸŒ°ã€‚  

å…ˆåœ¨ç”»å¸ƒä¸­ç”»ä¸€å¼ å›¾ï¼š  

```
canvas.drawImage(background, Offset.zero, paint);
```

ğŸ–¼ æ•ˆæœï¼š  

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvas-src.png)

ç°åœ¨ï¼Œå°†ç”»å¸ƒå¹³ç§»ï¼š  

```
canvas.save();
// å¹³ç§»ç”»å¸ƒ
canvas.translate(100, 100);
canvas.drawImage(background, Offset.zero, paint);
canvas.restore();
```

ğŸ–¼ æ•ˆæœï¼š  

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvastranslate.png)

ç»˜åˆ¶å›¾ç‰‡çš„é€»è¾‘ä¸å˜ï¼Œä½†ç»è¿‡å¹³ç§»åï¼Œå›¾ç‰‡çš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ã€‚  



## ç¼©æ”¾ç”»å¸ƒscale()  

`scale()` ç”¨äºå°†ç”»å¸ƒè¿›è¡Œç¼©æ”¾ã€‚  

ç›´æ¥çœ‹ä¾‹å­ ğŸŒ°ã€‚  

å…ˆç”»ä¸€ä¸ªå……æ»¡ç”»å¸ƒçš„çŸ©å½¢ï¼š  

```
canvas.drawRect(Offset.zero & size, Paint()..color=Colors.pinkAccent);
```

ğŸ–¼ æ•ˆæœï¼š  

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasscalesrc.png)  

ç°åœ¨ï¼Œå°†ç”»å¸ƒè¿›è¡Œç¼©æ”¾ï¼š  

```
canvas.save();
canvas.scale(0.5);
canvas.drawRect(Offset.zero & size, Paint()..color=Colors.pinkAccent);
canvas.restore();
```

ğŸ–¼ æ•ˆæœï¼š  

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasscalescale.png)

å°†ç”»å¸ƒç¼©å°ä¸€åŠåï¼Œå¯ä»¥çœ‹åˆ°åŸæ¥çš„çŸ©å½¢ä¹Ÿç¼©å°äº†ä¸€åŠã€‚  


## æ—‹è½¬ç”»å¸ƒrotate()  

`rotate()` ç”¨äºæ—‹è½¬ç”»å¸ƒã€‚  

çœ‹ç€ä¾‹å­ ğŸŒ° æ¥ç†è§£å®ƒçš„ç”¨æ³•ã€‚  

å…ˆåœ¨ç”»å¸ƒçš„ä¸­å¿ƒä½ç½®ç”»ä¸€ä¸ªçŸ©å½¢ï¼š  

```
canvas.drawRect(Rect.fromCircle(
        center: Offset(size.width / 2, size.height / 2), radius: 100), Paint()..color = Colors.amber);
```

ğŸ–¼ æ•ˆæœï¼š 

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasrotatesrc.png)


ç°åœ¨ï¼Œæ—‹è½¬45åº¦ï¼š  

```
canvas.save();
canvas.rotate(pi/4);
canvas.drawRect(Rect.fromCircle(
    center: Offset(size.width / 2, size.height / 2), radius: 100), Paint()..color = Colors.amber);
canvas.restore();
```

ğŸ–¼ æ•ˆæœï¼š 

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasrotate1.png)

çœ‹æ•ˆæœå›¾ï¼Œä¼šå‘ç°ï¼ŒçŸ©å½¢ç¡®å®æ˜¯æ—‹è½¬äº†ï¼Œä½†æ˜¯æ—‹è½¬çš„æœ‰ç‚¹æ€ª ğŸ˜ã€‚  

è¿™æ˜¯å› ä¸ºï¼ŒCanvas çš„æ—‹è½¬ä¸­å¿ƒæ˜¯åœ¨ç”»å¸ƒçš„å·¦ä¸Šè§’ï¼Œæ‰€ä»¥å¾—åˆ°çš„ç»“æœä¸æ˜¯æƒ³è¦çš„ã€‚  

å¦‚ä½•è·å¾—é¢„æœŸçš„ä¸­å¿ƒæ—‹è½¬æ•ˆæœå‘¢ï¼Ÿ  

ä½ éœ€è¦ç§»åŠ¨ç”»å¸ƒï¼Œè®©ç»•å·¦ä¸Šè§’æ—‹è½¬çš„ç”»å¸ƒçœ‹èµ·æ¥åƒä¸­å¿ƒæ—‹è½¬ä¸€æ ·ã€‚  

é‚£ä¹ˆé‡ç‚¹å°±æ˜¯ï¼Œå¦‚ä½•ç¡®å®šç”»å¸ƒéœ€è¦ç§»åŠ¨å¤šå°‘åç§»é‡å‘¢ï¼Ÿ  

é¦–å…ˆï¼Œçœ‹çœ‹åœ¨æ—‹è½¬è¿‡ç¨‹ä¸­ï¼Œç”»å¸ƒçš„ä¸­å¿ƒä½ç½®æ˜¯å¦‚ä½•å˜åŒ–çš„å§ï¼š  

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasrotateåŸç†.png)


> ğŸ’¡æç¤ºï¼ŒCanvas çš„æ­£å‘æ—‹è½¬æ–¹å‘ä¸ºé¡ºæ—¶é’ˆæ–¹å‘ï¼Œä¸” 0 å¼§åº¦åœ¨å›¾ä¸­ x è½´æ­£æ–¹å‘ä¸Šã€‚

ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“ç”»å¸ƒå›´ç»•å·¦ä¸Šè§’æ—‹è½¬æ—¶ï¼Œç”»å¸ƒçš„ä¸­å¿ƒç‚¹å§‹ç»ˆåœ¨ä»¥ **å·¦ä¸Šè§’ä¸ºåœ†å¿ƒ**ï¼Œ**ç”»å¸ƒå¯¹è§’çº¿çš„ä¸€åŠ** ä¸ºåŠå¾„çš„åœ†ä¸Šç§»åŠ¨ã€‚  

ç”»å¸ƒéœ€è¦ç§»åŠ¨çš„åç§»é‡å®é™…ä¸Šå°±æ˜¯ **åœ†ä¸Šå„ç‚¹ï¼ˆæ—‹è½¬åçš„ç”»å¸ƒä¸­å¿ƒç‚¹ï¼‰** åˆ°ç”»å¸ƒ **åˆå§‹ä¸­å¿ƒç‚¹** çš„è·ç¦»çš„ä¸€åŠã€‚  

é‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±è¢«è½¬åŒ–ä¸ºäº†ï¼š**æ±‚åœ†ä¸Šä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»çš„é—®é¢˜**ã€‚  

ç°åœ¨ï¼Œæ¥è§£å†³å®ƒå§ ğŸ¤¨ï¼  

ç°åœ¨çš„å·²çŸ¥æ¡ä»¶åªæœ‰ï¼š**ç”»å¸ƒçš„å°ºå¯¸ï¼Œsize**ã€‚  

ä½†è¿™å°±å¤Ÿäº†ã€‚

### 1.è®¡ç®—ç”»å¸ƒ åˆå§‹ä¸­å¿ƒç‚¹ çš„åæ ‡ã€‚  

æ±‚åœ†ä¸ŠæŸç‚¹çš„åæ ‡ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å…¬å¼è®¡ç®—ï¼š  

```
x = x0 + r * cos(ğ’¶)
y = y0 + r * sin(ğ’¶)
```

å› ä¸ºåœ†å¿ƒä¸ºç”»å¸ƒå·¦ä¸Šè§’ï¼Œå³ (0, 0) ç‚¹ï¼Œæ‰€ä»¥å¯ä»¥ç®€åŒ–ä¸ºï¼š  

```
x = r * cos(ğ’¶)
y = r * sin(ğ’¶)
```

æ˜¾ç„¶ï¼Œè¦è®¡ç®—ç”»å¸ƒ **åˆå§‹ä¸­å¿ƒç‚¹** çš„åæ ‡ï¼Œå…ˆè¦è®¡ç®—ä¸­å¿ƒç‚¹è½¨è¿¹åœ†çš„åŠå¾„ï¼Œä»¥åŠè¯¥ç‚¹æ‰€åœ¨å¼§åº¦ã€‚  

æ ¹æ® [**å‹¾è‚¡å®šç†**](https://baike.baidu.com/item/%E5%8B%BE%E8%82%A1%E5%AE%9A%E7%90%86) å¾ˆå®¹æ˜“è®¡ç®—å‡ºä¸­å¿ƒç‚¹è½¨è¿¹åœ†çš„åŠå¾„ï¼š  

```
double r = sqrt(pow(size.width, 2) + pow(size.height, 2));
```

æ ¹æ® [**åæ­£å¼¦å‡½æ•°**](https://baike.baidu.com/item/%E5%8F%8D%E6%AD%A3%E5%BC%A6%E5%87%BD%E6%95%B0)ï¼Œå¯ä»¥è®¡ç®—å‡º **åˆå§‹ä¸­å¿ƒç‚¹** çš„å¼§åº¦ï¼š  

```
double startAngle = atan(size.height / size.width);
```

ç°åœ¨ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„æ±‚è§£å‡ºç”»å¸ƒ **åˆå§‹ä¸­å¿ƒç‚¹** çš„åæ ‡ï¼š

```
double x0 = r * cos(startAngle);
double y0 = r * sin(startAngle);
Point p0 = Point(x0, y0);
```

### 2.è®¡ç®—æ—‹è½¬åçš„ç”»å¸ƒçš„ä¸­å¿ƒç‚¹åæ ‡

å›é¡¾ä¸€ä¸‹ä¸Šé¢çš„å›¾ï¼Œå½“ç”»å¸ƒæ—‹è½¬ `ğ’¶` å¼§åº¦åï¼Œå…¶ä¸­å¿ƒç‚¹æ‰€åœ¨çš„å¼§åº¦ä¸º `ğ’¶ + ç”»å¸ƒåˆå§‹ä¸­å¿ƒç‚¹çš„å¼§åº¦`ï¼Œåˆ™ï¼š  

```
double realAngle = xAngle + startAngle;
```

è·å¾—äº†ä¸­å¿ƒç‚¹çš„è§’åº¦ï¼Œé‚£è®¡ç®—å®ƒçš„åæ ‡ä¹Ÿå°±è½»è€Œæ˜“ä¸¾äº†ï¼š  

```
Point px = Point(r * cos(realAngle), r * sin(realAngle));  
```

### 3.å¹³ç§»ç”»å¸ƒ

ç°åœ¨ï¼Œæˆ‘ä»¬è·å¾—äº†ç”»å¸ƒ **åˆå§‹ä¸­å¿ƒç‚¹** çš„åæ ‡å’Œç”»å¸ƒæ—‹è½¬åçš„ä¸­å¿ƒç‚¹åæ ‡ï¼Œå°±å¯ä»¥çŸ¥é“ç”»å¸ƒåº”è¯¥å¹³ç§»å¤šå°‘äº†ï¼š  

```
canvas.translate((p0.x - px.x)/2, (p0.y - px.y)/2);
```

### 4.å®Œæ•´ä»£ç 

æŠŠä¸Šé¢çš„ä»£ç ï¼Œå¸¦å…¥åˆšåˆšçš„æ—‹è½¬æ“ä½œä¸­ï¼š

```
canvas.save();
// è®¡ç®—ç”»å¸ƒä¸­å¿ƒè½¨è¿¹åœ†åŠå¾„
double r = sqrt(pow(size.width, 2) + pow(size.height, 2));
// è®¡ç®—ç”»å¸ƒä¸­å¿ƒç‚¹åˆå§‹å¼§åº¦
double startAngle = atan(size.height / size.width);
// è®¡ç®—ç”»å¸ƒåˆå§‹ä¸­å¿ƒç‚¹åæ ‡
Point p0 = Point(r * cos(startAngle), r * sin(startAngle));
// éœ€è¦æ—‹è½¬çš„å¼§åº¦
double xAngle = pi / 4;
// è®¡ç®—æ—‹è½¬åçš„ç”»å¸ƒä¸­å¿ƒç‚¹åæ ‡
Point px = Point(
    r * cos(xAngle + startAngle), r * sin(xAngle + startAngle));
// å…ˆå¹³ç§»ç”»å¸ƒ
canvas.translate((p0.x - px.x) / 2, (p0.y - px.y) / 2);
// åæ—‹è½¬
canvas.rotate(xAngle);
canvas.drawRect(Rect.fromCircle(
    center: Offset(size.width / 2, size.height / 2), radius: 100), Paint()
  ..color = Colors.amber);
canvas.restore();
```

ğŸ–¼ æ•ˆæœï¼š 

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasrotatecenter.png)  


> ğŸ’¡æç¤ºï¼Œrotate() æ˜¯ä»¥å¼§åº¦åˆ¶è¿›è¡Œçš„ã€‚

## æ–œåˆ‡ç”»å¸ƒskew()  

`skew()` ç”¨äºæ–œåˆ‡ç”»å¸ƒï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºæ°´å¹³æ–¹å‘çš„æ–œåˆ‡ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºå‚ç›´æ–¹å‘çš„æ–œåˆ‡ï¼Œæ–œåˆ‡å€¼æ˜¯æ­£å¼¦å‡½æ•° **tan** å€¼ã€‚  

æ¯”å¦‚ï¼Œæ–œåˆ‡ 45 åº¦ï¼Œå³ `tan(pi/4) = 1`ã€‚ 

çœ‹ä¾‹å­ ğŸŒ°ã€‚  


å…ˆåœ¨ç”»å¸ƒä¸­å¿ƒä½ç½®ç”»ä¸€å¼ å›¾ç‰‡ï¼š  

```
canvas.drawImageRect(background, Offset.zero & imgSize,
        Alignment.center.inscribe(imgSize, Offset.zero & size), paint);
```

ğŸ–¼ æ•ˆæœï¼š 

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasskew.png)  

è¿›è¡Œæ–œåˆ‡æ“ä½œï¼š  

```
canvas.save();
canvas.skew(0.2, 0);
canvas.drawImageRect(background, Offset.zero & imgSize,
    Alignment.center.inscribe(imgSize, Offset.zero & size), paint);
canvas.restore();
```

ğŸ–¼ æ•ˆæœï¼š 

![](https://raw.githubusercontent.com/chenBingX/img/master/Flutter/canvasskew2.png)  

æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ ğŸ˜€ã€‚